import pyautogui
import random
import time
from tkinter import Tk, messagebox
import threading
import keyboard  # For key press detection
from playsound import playsound

# Stop flag
stop_flag = False

def move_mouse():
    while not stop_flag:
        x = random.randint(0, pyautogui.size().width)
        y = random.randint(0, pyautogui.size().height)
        pyautogui.moveTo(x, y, duration=0.1)
        time.sleep(1)

def pop_up_message():
    while not stop_flag:
        time.sleep(random.randint(3, 8))
        root = Tk()
        root.withdraw()
        messagebox.showinfo("malware(ish)", random.choice([
            "press ctrl+shift+q to end this", "Are you annoyed yet?", "take a break", "Oops, wrong button!"
        ]))
        root.destroy()

def play_random_sound():
    sounds = ["sounds/waa.mp3", "sounds/bah.mp3", "sounds/fart.mp3", "sounds/ph.mp3", "sounds/yippee.mp3", "sounds/cat.mp3", "sounds/amogus.mp3"]  # Replace with paths to your sound files
    while not stop_flag:
        time.sleep(random.randint(1, 10))
        playsound(random.choice(sounds))

def listen_for_stop():
    global stop_flag
    keyboard.wait("ctrl+shift+q")
    stop_flag = True
    print("Program stopped!")

# Run all features in separate threads
threads = [
    threading.Thread(target=move_mouse),
    threading.Thread(target=pop_up_message),
    threading.Thread(target=play_random_sound),
    threading.Thread(target=listen_for_stop),
]

for thread in threads:
    thread.start()

for thread in threads:
    thread.join()
